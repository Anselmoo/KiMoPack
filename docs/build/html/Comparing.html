

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Comparative plotting &mdash; KiMoPack 6.5.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Export and Project Saving" href="Saving.html" />
    <link rel="prev" title="Fitting, Parameter optimization and Error estimation" href="Fitting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> KiMoPack
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Main_tasks.html">Main Tasks overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Opening.html">Opening of data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Shaping.html">Shaping of Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plotting.html">Plotting functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fitting.html">Fitting, Parameter optimization and Error estimation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Comparative plotting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#normalization-and-scaling">Normalization and Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compare-at-time">Compare_at_time</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compare-at-wave">Compare_at_wave</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compare-dac">Compare_DAC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Saving.html">Data Export and Project Saving</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Function Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_func.html">KiMoPack - Functions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">KiMoPack</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Comparative plotting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Comparing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="comparative-plotting">
<h1>Comparative plotting<a class="headerlink" href="#comparative-plotting" title="Permalink to this headline">¶</a></h1>
<p>The comparative plotting is an important tool to compare different
measurements (e.g. different conditions), different fits or steady state
spectra. In general you can compare different kinetics
(at one or multiple fixed wavelength) with <a class="reference internal" href="#compare-at-wave"><span class="std std-ref">Compare_at_wave</span></a> ,
compare different spectra at one or multiple given timepoints with
<a class="reference internal" href="#compare-at-time"><span class="std std-ref">Compare_at_time</span></a> and compare the extracted spectra (decay associated
or species associated) with <a class="reference internal" href="#compare-dac"><span class="std std-ref">Compare_DAC</span></a>. The essential idea is that the
parameters in the project that contains the comparative plotting are used
for all the plots. So the ta.bordercut or ta.intensity is used for all
the plot, independent of e.g. the intensity in the other projects.</p>
<p>New is that the compare functions take “other” as a parameter, which can
be either a single or multiple projects (TA - objects). These projects
need to be loaded into the program. Loading a project can be done by
having them open from prior import or analysis (e.g. when comparing different fits)
and then using</p>
<p><a class="reference internal" href="plot_func.html#plot_func.TA.Copy" title="plot_func.TA.Copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self.Copy()</span></code></a></p>
<p>More usual other (saved) projects will be
opened with the function</p>
<p><a class="reference internal" href="plot_func.html#plot_func.GUI_open" title="plot_func.GUI_open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pf.GUI_open()</span></code></a></p>
<p>. See <a class="reference internal" href="Opening.html#opening-multiple-files"><span class="std std-ref">Opening multiple files</span></a>
for more information on that.</p>
<p>As this comparision very often contains a lot of files the images are
automatically saved using the filenames and the wavelength/time points.
The images are however open and if the standard approach using QT was
used can be manipulated using the GUI tools. So is e.g. the conversion
into a linear time-axis currently not implemented, but can easily be
achieved by changing the axis in the QT GUI.</p>
<p>A very important function provided by this set of tools is the comparision against
other spectra. So can for examples be reference spectra (e.g. UV-vis) be added to
the plots.</p>
<section id="normalization-and-scaling">
<h2>Normalization and Scaling<a class="headerlink" href="#normalization-and-scaling" title="Permalink to this headline">¶</a></h2>
<p>An important option is the normalization in a certain window that
applies for both Compare_at_time and Compare_at_wave. Very often data
needs to be normalized before it can be compared to anything e.g. to
the size of the ground state bleach or an excited state absorption.
Here I offer the normalization in a certain window in time and space.
In this window a value in the “ta” and then each of the “other”
projects is calculated. The intensity of each in the other projects
(but not of the “ta” project) is then mutliplied by the quotient of
this value in this specific window. This means e.g. that even if the
kinetics is plotted for 600nm the normalization can be performed at
1-2ps at 450-500nm. This is very useful to plot e.g. the efficiency of
product formation in the study of catalytic processes. For this
normalization a “window” needs to be defined in the order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Start</span> <span class="n">time</span><span class="p">,</span> <span class="n">End</span> <span class="n">time</span><span class="p">,</span> <span class="n">Start</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">End</span> <span class="n">Wavelength</span><span class="p">]</span>
</pre></div>
</div>
<p>Care should be take to where this normalization is performed. The region
just around t=0 is dangerous due to the artifacts, that do not represent
real values. If external values are suppose to be used for scaling, the
individual intensities can be manipulated. For each of the loaded
projects ta.ds is the matrix that contains the data. With:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;ta.ds*=1.1&quot;</span>
</pre></div>
</div>
<p>could for example the individual intensity be raised by 10%. But be aware
that with this action you are changing the data in the object. The original
data ta.ds_ori remains unchanged. If you save and reload the data, the intensity
will revert to the originally measured value.</p>
</section>
<section id="compare-at-time">
<h2>Compare_at_time<a class="headerlink" href="#compare-at-time" title="Permalink to this headline">¶</a></h2>
<p>This function plots multiple spectra into the same figure at one or multiple given timepoints (rel_time) and
allows for <a class="reference internal" href="#normalization-and-scaling"><span class="std std-ref">Normalization and Scaling</span></a></p>
<p>Very useful to compare the spectra for different solvents or quenchers, or e.g. different fits.
The ta.time_width_percent parameter defines if this is a single time
(if time_width_percent = 0) or an integrated window.</p>
<p>A normalization window can be given at which all the plotted curves are normalized to.
This window does not have to be in the plotted region. See <a class="reference internal" href="#normalization-and-scaling"><span class="std std-ref">Normalization and Scaling</span></a></p>
<p>Very often one would like to compare the measured spectra at a certain
time to an external spectrum (e.g. spectro-electro-chemistry or steady
state absorption). This can be done by loading a specific spectrum into
a DataFrame and handing this data Frame to the comparision function. The
function can also be used to plot e.g. the measured spectra vs. an
external spectrum without giving any “other” Projects.</p>
<p>For more information, details on the parameter and examples see:</p>
<p><a class="reference internal" href="plot_func.html#plot_func.TA.Compare_at_time" title="plot_func.TA.Compare_at_time"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self.Compare_at_time()</span></code></a></p>
</section>
<section id="compare-at-wave">
<h2>Compare_at_wave<a class="headerlink" href="#compare-at-wave" title="Permalink to this headline">¶</a></h2>
<p>This function plots multiple kinetics into the same figure at one or
multiple given wavelength (rel_wave) and  allows for <a class="reference internal" href="#normalization-and-scaling"><span class="std std-ref">Normalization and Scaling</span></a>
Very useful to compare the kinetics for different quencher concentrations or
pump powers, or e.g. different fits. The parameter width or the general ta.wavelength_bin
defines the width of the spectral window that is integrated and shown.</p>
<p>A normalization window can be given at which all the plotted curves are normalized to.
This window does not have to be in the plotted region. See <a class="reference internal" href="#normalization-and-scaling"><span class="std std-ref">Normalization and Scaling</span></a></p>
<p>Often multiple wavelength are to be plotted, and if at the same time
many projects go into the same plot, things tend to get messy. As the
files are saved separately this approach proofed to be useful.</p>
<p>For more information, details on the parameter and examples see:</p>
<p><a class="reference internal" href="plot_func.html#plot_func.TA.Compare_at_wave" title="plot_func.TA.Compare_at_wave"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self.Compare_at_wave()</span></code></a></p>
</section>
<section id="compare-dac">
<h2>Compare_DAC<a class="headerlink" href="#compare-dac" title="Permalink to this headline">¶</a></h2>
<p>This is a convenience function to plot multiple extracted spectra (DAS
or species associated) into the same figure or into a separate figure
each. Other should be ta.plot_func objects (loaded or copied). By
standard it plots all into the same window. If all project have the same
number of components one can activate “separate_plots” and have each
separated (in the order created in the projects).</p>
<p>The “Spectra” parameter allows as before the inclusion of an external
spectrum. Others is optional and I use this function often to compare
species associated spectra with one or multiple steady state spectra.</p>
<p>For more information, details on the parameter and examples see:</p>
<p><a class="reference internal" href="plot_func.html#plot_func.TA.Compare_DAC" title="plot_func.TA.Compare_DAC"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self.Compare_DAC()</span></code></a></p>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Saving.html" class="btn btn-neutral float-right" title="Data Export and Project Saving" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Fitting.html" class="btn btn-neutral float-left" title="Fitting, Parameter optimization and Error estimation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Jens Uhlig

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>